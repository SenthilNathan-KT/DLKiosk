<!DOCTYPE html>
<html lang="en">
    
    <%- include("layouts/header") -%>
    <body id="page-top" class="g2body">
        <!-- Navigation-->
        <%- include("layouts/navbar") -%>
        <!-- Masthead-->
        
        <!-- Contact-->
        <section class="page-section">
            <div class="container px-4 px-lg-5">

               <!-- <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8 col-xl-7 text-center">
                        <h2 class="mt-0 text-black">Examiner page</h2>
                        <hr class="divider divider-blue" />
                    </div> -->
                </div>
            </div>
            <br><br>
            <div class="row">
                <div class="offset-3 col-6">
                    <div class="row g-3">
                        <div class="row g-3" style="justify-content: center;">
                            <h4 class="mb-5 text-center fs-2 examinerView text-uppercase">Hello Examiner</h4>
                            

                            <form id="filterForm" method="post" action="/exams">
                                <!-- <select onchange="this.form.submit()" name="filter" id="filter" class="custom-select">
                                    <option>Select a type to filter</option>
                                    <option value="all">All</option>
                                    <option value="g2">G2</option>
                                    <option value="g">G</option>
                                </select> -->
                            
                                <div class="col-sm-12">
                                    <span class="examinerCorrectionFields">Please click on a exam type to refresh the page</span> &nbsp;&nbsp;
                                    <input type="radio" id="g" name="filter" value="g" onchange="this.form.submit()" required>
                                    <label for="age1">G</label> &nbsp;&nbsp;&nbsp;
                                    <input type="radio" id="g2" name="filter" value="g2" onchange="this.form.submit()">
                                    <label for="age2">G2</label><br>  
                                </div>
                            </form>

                            <table>
                                
                                <thead>
                                    <tr>
                                        <th scope="col">User name</th>
                                        <th scope="col">Exam Type</th>
                                        <th scope="col">Date </th>
                                        <th scope="col">Time </th>
                                        <th scope="col">Appointment</th>
                                        <th scope="col">
                                        </th>
                                </tr>
                                    </tr>
                                </thead>
                                <tbody>
                                    <%if(appointmentDetails != undefined || appointmentDetails != null){%>
                                        <%for(var i = 0; i < appointmentDetails.length; i++){%>
                                        <tr>
                                            <td><%=appointmentDetails[i].userId.firstName;%> <%=appointmentDetails[i].userId.lastName;%></td>
                                            <td><%=appointmentDetails[i].appointmentType;%></td>
                                            <td><%=appointmentDetails[i].date.toISOString().slice(0, 10);%></td>
                                            <td><%=appointmentDetails[i].time;%></td>
                                            <td>
                                                <div class="col-sm-12">
                                                    <a href="/correction?id=<%= appointmentDetails[i]._id %>">Show Appointment</a>
                                                </div>
                                            </td>
                                        </tr>
                                        <%}%>
                                    <%}%>
                                </tbody>
                            </table>
                            <%if(appointmentDetails.length == 0) {%>
                                <br><br>
                                No appointments to evaluate now..!! Enjoy your day :) 
                            <%}%>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <%- include("layouts/footer")-%>
        <!-- Bootstrap core JS-->
        <%- include("layouts/scripts")-%>    
        <script>
            if(filterType != null) {
                console.log("Fiulter print -> " + filterType);
            }
        </script>    
    </body>
</html>
